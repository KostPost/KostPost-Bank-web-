<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Main Page</title>
    <link rel="stylesheet" href="/static/css/main-page.css">
    <script src="/static/javaScript/main.js"></script>

</head>
<body>


<div class="main-header">
    <a href="http://localhost:8081/main" class="login-bold-link">KostPost Bank</a>
    <div class="main-user-info" sec:authorize="isAuthenticated()">
        <span sec:authentication="name">Username</span>
        <span sec:authorize="isAuthenticated()" class="user-balance"> Balance: $ <span th:text="${userBalance}"></span> </span>
        <a href="/logout" class="logout-link">Logout</a>
    </div>
</div>


<div class="buttons-container">
    <button id="transfer-btn" class="custom-btn">Перевод</button>
    <button id="banks-btn" class="custom-btn">Банки</button>
    <button id="currency-btn" class="custom-btn">Валюты</button>
</div>


<div class="content">
    <div id="gray-rectangle" class="history">
        <ul>
            <li th:each="transaction : ${transactions}" th:data-id="${transaction.transactionID}"
                class="transaction-entry" style="cursor: pointer;"
                onclick="displayTransactionDetails(this.getAttribute('data-id'))">


                <span th:text="${transaction.transactionType == 'Received' ?
                      'From: ' + transaction.sender :
                      'To: ' + transaction.recipient}"></span>

                <div class="transaction-amount">
                <span th:if="${transaction.transactionType} == 'Sent'"
                      th:text="${transaction.transferSum}" th:style="'color:red;'"></span>

                    <span th:if="${transaction.transactionType} == 'Received'"
                          th:text="${transaction.transferSum}" th:style="'color:green;'"></span>

                </div>
            </li>
        </ul>
    </div>
    <div id="transaction-details" class="information">
        <!-- Transaction details will be populated here by JavaScript -->
    </div>
</div>


</body>
</html>